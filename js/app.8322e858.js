(function(t){function e(e){for(var i,s,o=e[0],l=e[1],c=e[2],d=0,f=[];d<o.length;d++)s=o[d],a[s]&&f.push(a[s][0]),a[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,o=1;o<n.length;o++){var l=n[o];0!==a[l]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},a={app:0},r=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/munchkin-vue/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var i=n("c21b"),a=n.n(i);a.a},"08c5":function(t,e,n){"use strict";var i=n("8d34"),a=n.n(i);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",attrs:{id:"app"}},[n("div",{staticClass:"top-input-area"},[t.playerInputIsHidden?n("Dice"):t._e(),n("PlayerInput",{on:{"add-player":t.addPlayer,"is-hidden":function(e){t.handleToggleInput(e)}}})],1),n("Players",{attrs:{players:t.players,"allow-deleting":!t.playerInputIsHidden},on:{"player-toggle-fight":t.playerToggleFight,"player-deleted":function(e){t.handlePlayerDeleted(e)}}}),0===t.players.length?n("div",{staticClass:"text-center"},[t._v("\n        Such emptiness...\n        "),n("br"),t.playerInputIsHidden?t._e():n("font-awesome-icon",{attrs:{icon:["far","hand-point-right"],transform:{rotate:-110}}}),t._v("\n        Add a few players\n        "),t.playerInputIsHidden?n("font-awesome-icon",{attrs:{icon:["far","hand-point-right"],transform:{rotate:-40}}}):t._e(),n("br"),t._v("\n        Let the Munchinry begin\n    ")],1):t._e(),this.fight&&t.playerInputIsHidden?n("Fight",{attrs:{fight:t.fight},on:{"end-fight":function(e){t.fight=null}}}):t._e()],1)},r=[],s=n("8afe"),o=(n("20d6"),n("c665")),l=n("aa9a"),c=function(){function t(e,n){Object(o["a"])(this,t),this.id=e,this.name=n,this.gender="female",this.strength=1,this.isFighting=!1}return Object(l["a"])(t,[{key:"toggleGender",value:function(){this.gender="female"===this.gender?"male":"female"}},{key:"reduceStrength",value:function(){this.strength=Math.max(1,this.strength-1)}},{key:"increaseStrength",value:function(){this.strength+=1}}]),t}(),u=function(){function t(){Object(o["a"])(this,t),this.players=[],this.playersExtraStrength=0,this._monsterStrength=1}return Object(l["a"])(t,[{key:"getPlayerIndex",value:function(t){return this.players.findIndex(function(e){return e.id===t.id})}},{key:"addPlayer",value:function(t){var e=this.getPlayerIndex(t);-1===e&&this.players.push(t)}},{key:"removePlayer",value:function(t){var e=this.getPlayerIndex(t);e>-1&&this.players.splice(e,1)}},{key:"isEmpty",value:function(){return 0===this.players.length}},{key:"playerStrength",value:function(){var t=function(t,e){return t+e.strength};return this.players.reduce(t,0)+this.playersExtraStrength}},{key:"monsterStrength",value:function(){return this._monsterStrength}},{key:"difference",value:function(){return Math.abs(this.playerStrength()-this.monsterStrength())}},{key:"reducePlayerStrength",value:function(){this.playersExtraStrength-=1}},{key:"increasePlayerStrength",value:function(){this.playersExtraStrength+=1}},{key:"reduceMonsterStrength",value:function(){this._monsterStrength-=1}},{key:"increaseMonsterStrength",value:function(){this._monsterStrength+=1}},{key:"playersAreWinning",value:function(){return this.playerStrength()>this.monsterStrength()}},{key:"monstersAreWinning",value:function(){return this.playerStrength()<this.monsterStrength()}}]),t}(),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"player-input"},[n("div",{staticClass:"form-row align-items-center"},[t.isHidden?t._e():n("div",{staticClass:"col-auto"},[n("label",{staticClass:"sr-only",attrs:{for:"player_name"}},[t._v("New player name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.playerName,expression:"playerName"}],staticClass:"form-control",attrs:{type:"text",id:"player_name",placeholder:"Add a player"},domProps:{value:t.playerName},on:{change:function(e){t.addPlayer(t.playerName)},input:function(e){e.target.composing||(t.playerName=e.target.value)}}})])]),n("div",{staticClass:"text-center"},[t.isHidden?n("font-awesome-icon",{attrs:{icon:"user-plus","fixed-width":""},on:{click:t.toggleHidden}}):n("font-awesome-icon",{staticClass:"text-primary",attrs:{icon:["far","play-circle"],"fixed-width":"",size:"2x"},on:{click:t.toggleHidden}})],1)])},f=[],h={name:"PlayerInput",data:function(){return{playerName:"",isHidden:!1}},methods:{addPlayer:function(t){var e=t.trim();e&&(this.$emit("add-player",e),this.playerName="")},toggleHidden:function(){this.isHidden=!this.isHidden,this.$emit("is-hidden",this.isHidden)}}},g=h,p=(n("9933"),n("2877")),y=Object(p["a"])(g,d,f,!1,null,"4b3e7ad9",null);y.options.__file="PlayerInput.vue";var v=y.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.players,function(e){return n("Player",{key:e.id,staticClass:"player",attrs:{player:e,"allow-deleting":t.allowDeleting},on:{"toggle-fight":function(n){t.playerToggleFight(e.id)},delete:function(n){t.deletePlayer(e.id)}}})}))},b=[],_=(n("7f7f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row align-items-center"},[n("div",{staticClass:"col-5 text-truncate"},[n("div",{staticClass:"player-name"},[n("font-awesome-icon",{staticClass:"text-info",attrs:{size:"2x",icon:t.player.gender,"fixed-width":""},on:{click:t.toggleGender}}),n("span",[t._v(t._s(t.player.name))])],1)]),n("div",{staticClass:"col-2 text-center"},[t._v(t._s(t.player.strength))]),n("div",{staticClass:"col-5 text-right actions"},[n("div",{staticClass:"btn-group"},[t.allowDeleting?t._e():n("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){t.reduceStrength(t.player)}}},[n("font-awesome-icon",{attrs:{icon:"minus","fixed-width":""}})],1),t.allowDeleting?t._e():n("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){t.increaseStrength(t.player)}}},[n("font-awesome-icon",{attrs:{icon:"plus","fixed-width":""}})],1),t.allowDeleting?t._e():n("button",{staticClass:"btn btn-outline-primary",class:{active:t.player.isFighting},attrs:{type:"button"},on:{click:function(e){t.toggleFight()}}},[t._v("\n                ⚔️\n            ")]),t.allowDeleting?n("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:t.deletePlayer}},[n("font-awesome-icon",{attrs:{icon:"trash-alt","fixed-width":""}})],1):t._e()])])])}),w=[],x={name:"Player",props:{player:c,allowDeleting:!1},methods:{toggleGender:function(){this.player.toggleGender()},reduceStrength:function(t){t.reduceStrength()},increaseStrength:function(t){t.increaseStrength()},toggleFight:function(){this.$emit("toggle-fight")},deletePlayer:function(){this.$emit("delete")}}},C=x,P=(n("acf6"),Object(p["a"])(C,_,w,!1,null,"05fd9efa",null));P.options.__file="Player.vue";var S=P.exports,k={name:"Players",components:{Player:S},props:{players:{type:Array,default:function(){return[]}},allowDeleting:{type:Boolean,default:!1}},methods:{getPlayerIndex:function(t){return this.players.findIndex(function(e){return e.id===t})},playerToggleFight:function(t){var e=this.getPlayerIndex(t);this.$emit("player-toggle-fight",this.players[e])},deletePlayer:function(t){var e=this.getPlayerIndex(t),n=this.players[e];window.confirm("Delete ".concat(n.name,"?"))&&(this.players.splice(e,1),this.$emit("player-deleted",n))}}},I=k,F=(n("dd45"),Object(p["a"])(I,m,b,!1,null,"3c281fba",null));F.options.__file="Players.vue";var j=F.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fight container-fluid"},[t._m(0),n("div",{staticClass:"row text-center align-items-center"},[n("div",{staticClass:"col-4"},[n("div",{staticClass:"btn-group mx-auto"},[n("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){t.fight.reducePlayerStrength()}}},[n("font-awesome-icon",{attrs:{icon:"minus","fixed-width":""}})],1),n("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){t.fight.increasePlayerStrength()}}},[n("font-awesome-icon",{attrs:{icon:"plus","fixed-width":""}})],1)])]),n("div",{staticClass:"col-4 font-weight-bold align-middle"},[t._v(t._s(t.title)+"!")]),n("div",{staticClass:"col-4"},[n("div",{staticClass:"btn-group"},[n("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){t.fight.reduceMonsterStrength()}}},[n("font-awesome-icon",{attrs:{icon:"minus","fixed-width":""}})],1),n("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){t.fight.increaseMonsterStrength()}}},[n("font-awesome-icon",{attrs:{icon:"plus","fixed-width":""}})],1)])])]),n("div",{staticClass:"row text-center"},[n("div",{staticClass:"col-4"},[t._v("\n            Extra: "+t._s(t.fight.playersExtraStrength)+"\n        ")])]),n("div",{staticClass:"row text-center align-items-center"},[n("div",{staticClass:"col-4"},[n("strong",[t._v(t._s(t.fight.playerStrength()))])]),n("div",{staticClass:"col-4"},[t.fight.playersAreWinning()?n("span",[n("font-awesome-icon",{attrs:{icon:["far","hand-point-left"]}}),t._v(" wins by "+t._s(t.fight.difference())+"\n            ")],1):t.fight.monstersAreWinning()?n("span",[t._v("\n                wins by "+t._s(t.fight.difference())+" "),n("font-awesome-icon",{attrs:{icon:["far","hand-point-right"]}})],1):n("span",[t._v("\n                tied\n            ")])]),n("div",{staticClass:"col-4"},[n("strong",[t._v(t._s(t.fight.monsterStrength()))])])]),n("div",{staticClass:"row actions"},[n("div",{staticClass:"col-10 offset-1"},[n("button",{staticClass:"btn btn-block btn-danger",on:{click:t.endFight}},[t._v("End "+t._s(t.title))])])])])},M=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row text-center"},[n("div",{staticClass:"col-4"},[t._v("Munchkins")]),n("div",{staticClass:"col-4 offset-4"},[t._v("Monsters")])])}],E=(n("ac6a"),{name:"Fight",props:{fight:u},data:function(){return{title:this.randomTitle()}},methods:{randomTitle:function(){var t=["Brawl","Fracas","Rumpus","Skirmish","Scuffle","Altercation","Clash","Fisticuffs","Battle","Fight","Clash","Conflict","Combat","Quarrel","Pelea"];return t[Math.floor(Math.random()*t.length)]},endFight:function(){this.fight.players.forEach(function(t){return t.isFighting=!1}),this.$emit("end-fight")}}}),H=E,$=(n("08c5"),Object(p["a"])(H,O,M,!1,null,"8de5e17e",null));$.options.__file="Fight.vue";var D=$.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("font-awesome-icon",{attrs:{icon:t.icons[t.value],size:"2x","fixed-width":""},on:{click:function(e){t.roll(10)}}})],1)},A=[],N={name:"Dice",data:function(){return{value:5,icons:["dice-one","dice-two","dice-three","dice-four","dice-five","dice-six"]}},methods:{roll:function(t){if(t>0){var e=this;setTimeout(function(){requestAnimationFrame(function(){e.value=Math.floor(6*Math.random()),e.roll(t-1)})},50)}}}},G=N,W=(n("99f6"),Object(p["a"])(G,T,A,!1,null,"59eb3d6a",null));W.options.__file="Dice.vue";var z=W.exports,B={name:"app",components:{PlayerInput:v,Players:j,Fight:D,Dice:z},data:function(){return{players:[],fight:null,playerInputIsHidden:!1}},methods:{addPlayer:function(t){var e=Math.max.apply(Math,[0].concat(Object(s["a"])(this.players.map(function(t){return t.id}))));this.players.push(new c(e+1,t))},playerToggleFight:function(t){t.isFighting=!t.isFighting,t.isFighting?(this.fight=this.fight||new u,this.fight.addPlayer(t)):this.fight&&(this.fight.removePlayer(t),this.fight=this.fight.isEmpty()?null:this.fight)},handleToggleInput:function(t){this.playerInputIsHidden=t},handlePlayerDeleted:function(t){this.fight&&this.fight.removePlayer(t)}}},J=B,q=(n("034f"),Object(p["a"])(J,a,r,!1,null,null,null));q.options.__file="App.vue";var L=q.exports,Q=n("ecee"),R=n("c074"),K=n("b702"),U=n("7a55");Q["library"].add(R["g"],R["h"],R["k"],R["j"],R["i"],K["a"],K["b"],R["l"],R["c"],R["f"],R["e"],R["b"],R["a"],R["d"],K["c"]),i["a"].component("font-awesome-icon",U["FontAwesomeIcon"]),i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(L)}}).$mount("#app")},"66b7":function(t,e,n){},"714f":function(t,e,n){},"8d34":function(t,e,n){},9933:function(t,e,n){"use strict";var i=n("dee3"),a=n.n(i);a.a},"99f6":function(t,e,n){"use strict";var i=n("714f"),a=n.n(i);a.a},acf6:function(t,e,n){"use strict";var i=n("66b7"),a=n.n(i);a.a},c21b:function(t,e,n){},dd45:function(t,e,n){"use strict";var i=n("e297"),a=n.n(i);a.a},dee3:function(t,e,n){},e297:function(t,e,n){}});
//# sourceMappingURL=app.8322e858.js.map